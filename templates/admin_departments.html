{% extends "layout.html" %}
{% block content %}

<style>
  .page-header {
    background-color: #fff5f5;
    border: 2px solid #518d8f;
    border-radius: 10px;
    padding: 2rem;
    margin-top: 20px;
    text-align: center;
  }

  .page-header h2 {
    color: #518d8f;
    font-weight: 700;
  }

  .btn-primary {
    background-color: #518d8f;
    border-color: #518d8f;
  }

  .btn-primary:hover {
    background-color: #990000;
    border-color: #990000;
  }

  .table {
    margin-top: 2rem;
    border: 1px solid #ddd;
    background-color: #fff;
    border-radius: 8px;
    overflow: hidden;
  }

  .table thead {
    background-color: #518d8f;
    color: white;
  }

  .table tbody tr:hover {
    background-color: #fff5f5;
  }

  .btn-warning {
    background-color: #ffcc00;
    border-color: #ffcc00;
    color: #000;
  }

  .btn-warning:hover {
    background-color: #e6b800;
  }

  .btn-danger {
    background-color: #d9534f;
    border-color: #d43f3a;
  }

  .btn-danger:hover {
    background-color: #c9302c;
    border-color: #ac2925;
  }
</style>

<div class="container mt-4">
  <div class="page-header">
    <h2>Departments</h2>
    <p>Manage all academic departments below. You can add, edit, or delete departments.</p>
    <a href="{{ url_for('admin_add_department') }}" class="btn btn-primary mt-3">Add Department</a>
  </div>

  <table class="table table-striped mt-4">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th style="width: 25%;">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for dept in departments %}
      <tr>
        <td>{{ dept.id }}</td>
        <td>{{ dept.name }}</td>
        <td>
          <a href="{{ url_for('admin_edit_department', dept_id=dept.id) }}" class="btn btn-sm btn-warning">Edit</a>
          <form action="{{ url_for('admin_delete_department', dept_id=dept.id) }}" method="POST" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this department?');">
            <button type="submit" class="btn btn-sm btn-danger">Delete</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
